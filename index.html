<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>A Basic HTML5 Template</title>
  <meta name="description" content="A simple HTML5 Template for new projects.">
  <meta name="author" content="SitePoint">

  <meta property="og:title" content="login">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.sitepoint.com/a-basic-html5-template/">
  <meta property="og:description" content="A simple HTML5 Template for new projects.">
  <meta property="og:image" content="image.png">

  <link rel="icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <link rel="stylesheet" href="css/styles.css?v=1.0">

</head>

<body>
  <!-- your content here... -->
  
    <input type="text" id="name" placeholder="NAME"><br>
  <input type="password" id="password" placeholder="PASSWORD"><br>
  <input type="number" id="number" placeholder="NUMBER"><br>
  <button id="login" >LOGIN</button>

 
  
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCdXyN9-w-tz1RcuyNk7YNfoUisOgbc66c",
      authDomain: "mydatabase-38ede.firebaseapp.com",
      projectId: "mydatabase-38ede",
      storageBucket: "mydatabase-38ede.appspot.com",
      messagingSenderId: "354932493429",
      appId: "1:354932493429:web:7f1e5028ec4954bf30fc3c",
      measurementId: "G-6NLG6DTD7X"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    import {getDatabase,ref,set,child,update,remove}
    from "https://www.gstatic.com/firebasejs/9.9.0/firebase-database.js";

        var database = getDatabase();

        var login = document.getElementById('login');

        var name = document.getElementById('name');
        var password = document.getElementById('password');
        var number = document.getElementById('number');


        function add(){
          let num;

          var dbref = ref(database)

          get(child(dbref,'Users/')).then((snapshot) => {
          
              num =   snapshot.size;
              // console.log(snapshot.val().Name)
              console.log(num)
              // Object.keys(Users).length;

            num = snapshot.size +1;


              set(ref(database,'Users/'+num),{
                Name:name.value,
                Password:password.value,
                Contact_Number:number.value
            }).then(() => {
                alert('successfully added');
              //  location.reload();
            }).catch(() => {
                alert('unsuccessful');
            })
          });

            
        }



        login.addEventListener('click',add);

  </script>

  
</body>
</html>
